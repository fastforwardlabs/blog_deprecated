---
slug: 2019-04-30-public
layout: newsletter
---

Hello!  Last month we announced the release of our latest report, [Learning with Limited Labeled Data](https://blog.fastforwardlabs.com/2019/03/20/learning-with-limited-labeled-data.html).  Our report focuses on active learning, a technique that relies on collaboration between machines and humans to label smartly. To learn more, please visit our blog for *[A Guide to Learning with Limited Labeled Data](https://blog.fastforwardlabs.com/2019/04/02/a-guide-to-learning-with-limited-labeled-data.html)* and *[An Invitation to Active Learning](https://blog.fastforwardlabs.com/2019/04/03/an-invitation-to-active-learning.html)*, and to see active learning in action, please explore our
prototype!   

[Active Learner](https://activelearner.fastforwardlabs.com/) is a tool
that sheds light on and provides intuition for how and why active learning
works. The prototype allows one to visualize the process of active learning over
different types of datasets and selection strategies.  Below, Grant discusses the challenges that building the prototype presented, and how he solved them.

---

## Visualizing Active Learning

by [Grant](https://twitter.com/grantcuster)

![A GIF of the Active Learner prototype]({{ site.github.url }}/images/editor_uploads/2019-04-10-191420-active_learner_gif_small.gif)

##### [Active Learner](https://activelearner.fastforwardlabs.com/) shows how active learning selects which data to be labeled.

[Active Learner](https://activelearner.fastforwardlabs.com/), our new research prototype, is an interactive visualization of different active learning strategies for labeling data. It features three different datasets (MNIST, Quickdraw, and Caltech) and four different data selection strategies (Random, Entropy, Adversarial, and Ensemble). By exploring the different datasets and strategies, you can build your intuition about how and why active learning works. (For more on the selection strategies, read our report [Learning with
Limited Labeled Data](https://blog.fastforwardlabs.com/2019/04/02/a-guide-to-learning-with-limited-labeled-data.html).) 

In this newsletter, I'm going to focus on the visualization challenges involved in the prototype.

#### Show me the data

![]({{ site.github.url }}/images/editor_uploads/2019-04-10-191535-clip4.gif)

##### I used sprite sheets and shaders to display the image for each of the data points.

One of the main challenges involved in visualizing machine learning processes is figuring out how to present the vast amount of data involved. For Active Learner, we used the dimension-reduction algorithm [UMAP](https://umap-learn.readthedocs.io/en/latest/) to visualize how the model clusters the dataset.  We ran UMAP on the embeddings generated by our model after each round of data selection and training. As you move through the rounds in the prototype, you can see how the active learning strategies focus on points at the boundaries of the clusters. This focus makes sense because it is at the boundaries between classifications that there is often the most uncertainty. They are (kind of literally) the edge cases.

UMAP gets us the coordinates to plot the data, but displaying all those points in a browser is another challenge. For the UMAP dataset, we're displaying 60,000 points. That's a lot for a browser to handle when you want to be able to zoom and pan the visualization. I'd previously taken on this challenge for our [FF07 prototype: Deep Bargain Book Shop](https://ff07.fastforwardlabs.com/deep_bargain/). In that prototype, we used a different dimension-reduction algorithm (T-SNE) to visualize book description similarity for recommendations. I'd turned to the JavaScript library three.js to display those. Because three.js uses WebGL, it can smoothly
render more points than approaches like SVG or vanilla HTML canvas. (I wrote about that approach in an [Observable notebook: Using three.js for 2D data visualization](https://observablehq.com/@grantcuster/using-three-js-for-2d-data-visualization).)

In this prototype, I saw an opportunity to take another crack at building an interactive large scale visualization. I wanted to take this one even further. Since this project is focused on image datasets, I wondered if I could plot the images themselves (rather than placeholder circles). Based on my past experience with three.js, and from following people online who do similar work, I believed I could – but I wasn't certain (which is, after all, what makes it fun).

#### UMAP Explorer

![]({{ site.github.url }}/images/editor_uploads/2019-04-10-191718-umap_zoom_1547839236092.gif)

##### In [UMAP Explorer](https://grantcuster.github.io/umap-explorer/) I worked out the image rendering techniques used in the prototype.

While Shioulin and Nisha worked on the model and selection strategies, I explored visualization rendering techniques with [UMAP Explorer](https://grantcuster.github.io/umap-explorer/), an interactive UMAP visualization of the MNIST dataset, and a trial run for the techniques I wanted to use in the prototype. I hit the wall a few times trying to get all 70,000 images to render. I eventually found a way to swing it, thanks mostly to a [stack overflow answer by WestLangley](https://stackoverflow.com/questions/25335967/texture-atlas-offset-repeat-works-for-meshes-but-is-ignored-for-point-system-par/25372202#25372202), and [a post on a similar project by Douglas Duhaime](https://douglasduhaime.com/posts/visualizing-tsne-maps-with-three-js.html). 

The solution was to borrow a technique from video games and create a sprite sheet of the images all stitched together. You can then use a shader to pick what parts of the sprite sheet to display for each point. This gets you a huge performance improvement compared to loading a separate image for each point. I also explored different transparency and color coding options in UMAP explorer. Gradated transparency was too slow, so instead the shader just discards any pixels below a certain brightness level. This works fine for the black and white digits of MNIST, but needs to be adjusted depending on the images.

#### Transitions

With the knowledge gained from UMAP explorer, I jumped into the prototype itself. The new challenge that emerged was how to maintain continuity between rounds. The answer was to use transitions, so that the data points move to their new transitions from round to round. I found several examples using tween.js to transition three.js points, and was able to implement that approach. 

The bigger issue was how to manage state. I used React to structure the app, and its system of state management was a big help in keeping organized, but things still got pretty hairy when I got into the multi-step transitions. Initially I gave the user control of when to move through each step of a round (selection, labeling, retraining), which greatly increased the number of transitions I had to prepare for (what if they changed datasets after the labeling set?), so I scaled it back by changing all the steps in a round together. It worked out, but I wouldn't mind another crack at this in a future prototype.

#### Links

- [Active Learner](https://activelearner.fastforwardlabs.com/)
- [UMAP Explorer](https://grantcuster.github.io/umap-explorer/)
- [A screenshot design history of Active Learner](http://feed.grantcuster.com/stack/ff10-prototype)
- [My Twitter thread about Active Learner](https://twitter.com/GrantCuster/status/1113502812552474625)

---

## Teaching machines to recognize faces: a tale of two outcomes
_by [Alice](https://twitter.com/alicealbrecht?lang=en)_

Machine learning used for facial recognition can have both potentially life-saving and privacy-killing consequences. The rise of cheap sensors, more robust data storage, and advances in machine learning have propelled many industries forward - for instance, many sensors used in the automative industry have focused on detecting vehicle malfunctions, maintenance needs, and even the early components of self-driving cars.   

Last week [Affectiva](https://go.affectiva.com/auto) announced that it had closed a [significant round of funding](https://venturebeat.com/2019/04/11/affectiva-raises-26-million-to-bring-emotional-intelligence-ai-to-car-safety-systems/) to further develop its emotion and object detection software (powered by machine learning algorithms). The goal here is to recognize the emotions of the occupants and highlight potential dangers (such as drowsiness). There are many likely extensions to this work, including helping computers understand interactions between the passengers. 

But truthfully, there is no reason the technology being developed for this product (which is aimed at decreasing vehicular accidents) couldn’t be used in other settings. Perhaps someday this work could be extended to better understanding human emotion and interactions in public spaces, or human reaction to marketing billboards.

![]({{ site.github.url }}/images/2019/04/Affectiva_Face_Image-1555448954465.jpg)
##### Image taken from Affectiva.com

Automatically categorizing faces is a capability that has existed for some [time](https://ieeexplore.ieee.org/abstract/document/1467368). As facial image capture and categorization become more ubiquitous, we see many products that use this capability to make people’s lives easier (i.e., automatically tagging individuals in photos), and I’ve just highlighted a way in which it is likely to make our lives safer. As many stories of technological advancement go however, this story isn’t all rosy. In the same week as we saw increased investment in Affectiva’s research, we also saw how some Chinese start ups are using facial recognition algorithms to [racially profile minority groups](https://www.nytimes.com/2019/04/14/technology/china-surveillance-artificial-intelligence-racial-profiling.html).  Though these two applications are surely not relying on the same underlying models, architecture, or data, there is a sharing of information and acceleration of these techniques in research communities that enable both. 

Even though Affectiva specifically states their intention to develop more ethical software, it’s no longer in the realm of science fiction to believe that other less-ethically minded enterprises could very easily have surveillance installed in our private property (i.e., a car) that is able to categorize what groups the humans inside likely belong to and the emotions involved in their interactions. With this, and other advancements in machine learning at the edge, it’s important for us to continue to think very critically about how to ethically commercialize this research.  

## Upcoming Events

* Chris Wallace will be speaking on _[Federated learning: machine learning with privacy on the edge](https://conferences.oreilly.com/strata/strata-eu/public/schedule/detail/74327)_ on May 1st at the [Strata Data Conference](https://conferences.oreilly.com/strata/strata-eu) in London.
* Shioulin Sam will also be speaking at Strata in London on _[Learning with Limited Labeled Data](https://conferences.oreilly.com/strata/strata-eu/public/schedule/detail/74341)_ on May 2nd.
* Hilary Mason will be speaking at [ODSC East](https://odsc.com/boston) in Boston on May 2nd.
* Nisha Muktewar will be speaking on [Learning with Limited Labeled Data](http://vervecon.org/speakers/nisha-muktewar/) at VerveCon in Santa Clara, CA on May 7th.

We'll also be at the Dataworks conference in Washington, D.C. on May 23rd! Here are the talks we'll be giving:
* Hilary Mason: _[Building an Enterprise AI Factory](https://dataworkssummit.com/washington-dc-2019/keynote/building-an-enterprise-ai-factory/)_
* Tristan Zajonc: _[Cloud-Native Machine Learning: Emerging Trends and the Road Ahead](https://dataworkssummit.com/washington-dc-2019/session/cloud-native-machine-learning-emerging-trends-and-the-road-ahead/)_
* Nisha Muktewar: _[Learning with Limited Labeled Data](https://dataworkssummit.com/washington-dc-2019/session/learning-with-limited-labeled-data-2/)_
* Alice Albrecht: _[A Framework for Developing a Winning Data Project Portfolio](https://dataworkssummit.com/washington-dc-2019/session/a-framework-for-developing-a-winning-data-project-portfolio-2/)_
* Justin Norman and Sagar Kewalramani: _[Machine Learning Model Deployment: Strategy to Implementation](https://dataworkssummit.com/washington-dc-2019/session/machine-learning-model-deployment-strategy-to-implementation-3/)_

If you're attending any of these conferences, please [let us know](mailto:cffl@cloudera.com) and stop by to say hello! 


All the best,

The Cloudera Fast Forward Labs Team

P.S.  Thanks to all who attended our webinar on *Learning with Limited Labeled Data* earlier this month.  If you missed the webinar, you can [catch the replay here](https://www.cloudera.com/about/events/webinars/learning_with_limited_labeled_data.html?utm_medium=email&utm_source=email&utm_campaign=ml&src=email&cid=70134000001Yh16&utm_content=FF10_AMER_Webinar_2019-04-03).